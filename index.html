<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Simulasi Trading Final</title>
    <style>
        /* --- RESET & LAYOUT --- */
        body {
            background-color: #000;
            margin: 0;
            padding: 0;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: sans-serif;
            touch-action: none; /* Mencegah zoom/scroll di HP */
            user-select: none; /* Mencegah seleksi teks */
        }

        /* --- WADAH HP --- */
        #phone-container {
            position: relative;
            /* Ukuran Responsif Full Screen */
            height: 100%; 
            width: 100%;
            max-width: 100%;
            max-height: 100%;
            
            /* Menjaga rasio gambar agar tidak gepeng (opsional, bisa dihapus jika ingin full stretch) */
            aspect-ratio: 360 / 760; 
            
            background-color: #000;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        /* Mode Landscape: Sesuaikan agar tidak terlalu zoom */
        @media (orientation: landscape) {
            #phone-container {
                height: 100vh;
                width: auto;
            }
        }

        /* --- LAYAR GAMBAR --- */
        .screen {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            display: none;
            background-size: 100% 100%; /* Memaksa gambar memenuhi layar */
            background-position: center;
            background-repeat: no-repeat;
        }

        .screen.active { display: block; }

        /* --- AREA KLIK (INVISIBLE HOTSPOTS) --- */
        .click-area {
            position: absolute;
            z-index: 10;
            cursor: pointer;
            
            /* RAHASIA: Transparan tapi bisa diklik */
            background-color: rgba(0, 0, 0, 0); 
            border: none;
            
            /* Debugging: Uncomment baris bawah ini jika ingin melihat kotak samar-samar untuk tes */
            /* background-color: rgba(255, 0, 0, 0.1); border: 1px solid red; */
        }

        /* Efek saat diklik (Visual Feedback Halus) */
        .click-area:active {
            background-color: rgba(255, 255, 255, 0.2);
            transition: background-color 0.1s;
        }

        /* --- TOMBOL MULAI (OVERLAY) --- */
        #start-overlay {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
        }

        .btn-start {
            padding: 15px 40px;
            font-size: 20px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(40, 167, 69, 0.5);
            animation: pulse-btn 1.5s infinite;
        }

        @keyframes pulse-btn {
            0% { transform: scale(1); box-shadow: 0 0 20px rgba(40, 167, 69, 0.5); }
            50% { transform: scale(1.05); box-shadow: 0 0 40px rgba(40, 167, 69, 0.8); }
            100% { transform: scale(1); box-shadow: 0 0 20px rgba(40, 167, 69, 0.5); }
        }

        /* Layar Finish */
        #finish-screen {
            background-color: #111;
            color: white;
            display: none; 
            flex-direction: column;
            justify-content: center; 
            align-items: center;
            text-align: center;
            height: 100%; width: 100%;
        }
    </style>
</head>
<body>

    <!-- OVERLAY MULAI (Untuk memicu Full Screen) -->
    <div id="start-overlay">
        <h2 style="margin-bottom: 30px;">Siap Trading?</h2>
        <button class="btn-start" onclick="startSimulation()">MULAI SIMULASI</button>
    </div>

    <!-- WADAH UTAMA -->
    <div id="phone-container">
        
        <!-- STEP 1 -->
        <div class="screen active" id="screen-1" style="background-image: url('1.jpg');">
            <div id="box-1" class="click-area" style="top: 73%; left: 26%; width: 18%; height: 9%;" onclick="next(2)"></div>
        </div>

        <!-- STEP 2 -->
        <div class="screen" id="screen-2" style="background-image: url('2.jpg');">
            <div id="box-2" class="click-area" style="top: 17%; left: 0%; width: 100%; height: 10%;" onclick="next(3)"></div>
        </div>

        <!-- STEP 3 -->
        <div class="screen" id="screen-3" style="background-image: url('3.jpg');">
            <div id="box-3" class="click-area" style="top: 0%; left: 30%; width: 70%; height: 8%;" onclick="next(4)"></div>
        </div>

        <!-- STEP 4 -->
        <div class="screen" id="screen-4" style="background-image: url('4.jpg');">
            <div id="box-4" class="click-area" style="top: 50%; left: 5%; width: 90%; height: 25%;" onclick="next(5)"></div>
        </div>

        <!-- STEP 5 -->
        <div class="screen" id="screen-5" style="background-image: url('5.jpg');">
            <div id="box-5" class="click-area" style="top: 0%; left: 0%; width: 15%; height: 8%;" onclick="next(6)"></div>
        </div>

        <!-- STEP 6 -->
        <div class="screen" id="screen-6" style="background-image: url('6.jpg');">
            <div id="box-6" class="click-area" style="top: 60%; left: 26%; width: 18%; height: 9%;" onclick="next(7)"></div>
        </div>

        <!-- STEP 7 -->
        <div class="screen" id="screen-7" style="background-image: url('7.jpg');">
            <div id="box-7" class="click-area" style="bottom: 0%; left: 25%; width: 25%; height: 8%;" onclick="next(8)"></div>
        </div>

        <!-- STEP 8 -->
        <div class="screen" id="screen-8" style="background-image: url('8.jpg');">
            <div id="box-8" class="click-area" style="top: 20%; left: 10%; width: 80%; height: 60%;" onclick="next(9)"></div>
        </div>

        <!-- STEP 9 -->
        <div class="screen" id="screen-9" style="background-image: url('9.jpg');">
            <div id="box-9" class="click-area" style="top: 35%; right: 5%; width: 40%; height: 6%;" onclick="next(10)"></div>
        </div>

        <!-- STEP 10 (1% -> Beli/Jual) -->
        <div class="screen" id="screen-10" style="background-image: url('10.jpg');">
            <!-- 10a: Klik 1% -->
            <div id="box-10a" class="click-area" style="top: 45%; left: 5%; width: 15%; height: 5%;" onclick="step10Part2()"></div>
            <!-- 10b: Klik Tombol Hijau/Merah -->
            <div id="box-10b" class="click-area" style="display:none; top: 55%; left: 5%; width: 43%; height: 7%;" onclick="next(11)"></div>
        </div>

        <!-- STEP 11 (Konfirmasi) -->
        <div class="screen" id="screen-11" style="background-image: url('11.jpg');">
            <div id="box-11" class="click-area" style="top: 55%; right: 10%; width: 35%; height: 6%;" onclick="next(12)"></div>
        </div>

        <!-- STEP 12 (Cek Order & Selesai) -->
        <div class="screen" id="screen-12" style="background-image: url('12.jpg');">
            <div id="box-12-finish" class="click-area" style="bottom: 10%; left: 25%; width: 50%; height: 8%;" onclick="finish()"></div>
        </div>

        <!-- FINISH SCREEN -->
        <div id="finish-screen">
            <h1 style="color: #4CAF50;">SUKSES!</h1>
            <p>Transaksi berhasil disimulasikan.</p>
            <button onclick="location.reload()" style="padding: 10px 20px; border-radius: 20px; border: none; background: #333; color: white; margin-top: 20px; cursor: pointer;">Ulangi</button>
        </div>

    </div>

    <script>
        // --- LOAD POSISI DARI PENYIMPANAN ---
        // Ini kuncinya: mengambil posisi "sudah pas" yang Anda atur di versi sebelumnya
        window.onload = function() {
            const savedPositions = localStorage.getItem('simulasi_pos_12steps');
            if(savedPositions) {
                try {
                    const positions = JSON.parse(savedPositions);
                    for(let id in positions) {
                        const box = document.getElementById(id);
                        if(box) { 
                            box.style.top = positions[id].t; 
                            box.style.left = positions[id].l; 
                            box.style.width = positions[id].w; 
                            box.style.height = positions[id].h; 
                        }
                    }
                    console.log("Posisi kustom dimuat.");
                } catch(e) {
                    console.log("Menggunakan posisi default.");
                }
            }
        };

        // --- FUNGSI UTAMA ---
        
        function startSimulation() {
            // Masuk Full Screen
            const elem = document.documentElement;
            if (elem.requestFullscreen) {
                elem.requestFullscreen();
            } else if (elem.webkitRequestFullscreen) { /* Safari */
                elem.webkitRequestFullscreen();
            } else if (elem.msRequestFullscreen) { /* IE11 */
                elem.msRequestFullscreen();
            }

            // Hapus overlay tombol mulai
            document.getElementById('start-overlay').style.display = 'none';
        }

        function next(step) {
            // Sembunyikan semua layar
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            // Tampilkan layar tujuan
            const target = document.getElementById('screen-' + step);
            if(target) target.classList.add('active');
        }

        function step10Part2() {
            // Logika khusus step 10 (Klik 1% dulu, baru tombol beli muncul)
            document.getElementById('box-10a').style.display = 'none';
            document.getElementById('box-10b').style.display = 'block';
        }

        function finish() {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('finish-screen').style.display = 'flex';
        }
    </script>
</body>
</html>



<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Simulasi Trading Final (Player Mode)</title>
    <style>
        /* --- RESET & STYLE DASAR --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            /* Padding bawah dikurangi karena panel kontrol sudah tidak ada */
            padding: 10px 0 50px 0;
            overflow-y: auto; 
        }

        /* --- BINGKAI HP --- */
        #phone-frame {
            position: relative;
            width: 100%;
            max-width: 380px; 
            background-color: #000;
            border: 4px solid #333;
            border-radius: 25px;
            box-shadow: 0 0 30px rgba(0,0,0,0.6);
            overflow: hidden; 
            transition: height 0.3s;
        }

        /* --- WRAPPER (KUNCI KOORDINAT) --- */
        #content-wrapper {
            position: relative;
            width: 100%;
            height: auto; 
            margin: 0 auto;
        }

        /* --- GAMBAR --- */
        #screen-img {
            display: block;
            width: 100%;
            height: auto; 
            user-select: none;
            pointer-events: none;
        }

        /* --- AREA KLIK (HOTSPOT) --- */
        #hotspot {
            position: absolute;
            z-index: 50;
            /* Hanya mode LOCK yang tersisa */
            background: rgba(255, 0, 0, 0.25);
            cursor: pointer;
            animation: pulse 1.5s infinite;
            display: block; /* Default muncul */
        }

        @keyframes pulse {
            0% { background: rgba(255, 0, 0, 0.1); }
            50% { background: rgba(255, 0, 0, 0.5); box-shadow: 0 0 15px rgba(255,0,0,0.5); }
            100% { background: rgba(255, 0, 0, 0.1); }
        }

        /* --- UI STATUS & TOMBOL TOGGLE --- */
        .status-bar {
            margin-bottom: 10px;
            font-size: 14px; color: #eee;
            background: rgba(255,255,255,0.15);
            padding: 8px 20px; border-radius: 20px;
            text-align: center;
        }

        /* Tombol Toggle Baru di Pojok Kanan Atas */
        #btn-toggle-hint {
            position: absolute; top: 15px; right: 15px;
            background: rgba(0, 0, 0, 0.5); 
            color: white; padding: 8px 12px; 
            font-size: 12px; width: auto; z-index: 1000;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.3);
            cursor: pointer;
        }
        #btn-toggle-hint:hover { background: rgba(0,0,0,0.8); }

        .scroll-mode {
            height: 70vh;
            overflow-y: auto !important;
        }
        
        /* Menghilangkan elemen resize handle yang sudah tidak terpakai */
        .resize-handle { display: none; }

    </style>
</head>
<body>

    <div class="status-bar" id="status-text">Memuat Simulasi...</div>
    <button id="btn-toggle-hint" onclick="toggleHotspot()">üëÅÔ∏è Sembunyikan Area</button>

    <div id="phone-frame">
        <div id="content-wrapper">
            <img id="screen-img" src="1.jpg" alt="Layar Simulasi">
            <div id="hotspot"></div>
        </div>
    </div>

    <script>
        // --- DATA KOORDINAT PERMANEN (HASIL EDITAN ANDA) ---
        // Data ini sudah final dan tidak akan berubah-ubah lagi.
        const steps = [
          {
            "img": "1.jpg",
            "mode": "normal",
            "desc": "1/12: Klik Telegram",
            "x": 13.122171945701359,
            "y": 56.02026602242535,
            "w": 20.588235294117645,
            "h": 10.776439089692127
          },
          {
            "img": "2.jpg",
            "mode": "normal",
            "desc": "2/12: Klik Group DVTEAM",
            "x": 0,
            "y": 13.100135317997294,
            "w": 99.8868778280543,
            "h": 12.244249052774019
          },
          {
            "img": "3.jpg",
            "mode": "normal",
            "desc": "3/12: Klik Pesan Tersemat",
            "x": 0,
            "y": 6.630581867388363,
            "w": 100,
            "h": 9.00297699594046
          },
          {
            "img": "4.jpg",
            "mode": "normal",
            "desc": "4/12: Klik Kartu Sinyal",
            "x": 0,
            "y": 23.68064952638701,
            "w": 100,
            "h": 38.238322056833555
          },
          {
            "img": "5.jpg",
            "mode": "normal",
            "desc": "5/12: Klik Tombol Home",
            "x": 34.72850678733032,
            "y": 93.70771312584573,
            "w": 30.542986425339364,
            "h": 6.2922868741542625
          },
          {
            "img": "6.jpg",
            "mode": "normal",
            "desc": "6/12: Klik App OPALP",
            "x": 60.85972850678733,
            "y": 56.02026602242535,
            "w": 20.588235294117645,
            "h": 10.776439089692127
          },
          {
            "img": "7.jpg",
            "mode": "normal",
            "desc": "7/12: Klik Menu Kontrak",
            "x": 56.78733031674208,
            "y": 88.30020352339657,
            "w": 22.511312217194567,
            "h": 11.69979647660343
          },
          {
            "img": "8.jpg",
            "mode": "scroll",
            "desc": "8/12: Scroll ke Bawah & Klik",
            "x": 3.3936651583710406,
            "y": 34.215583514120205,
            "w": 94.00452488687783,
            "h": 40.59377262853005
          },
          {
            "img": "9.jpg",
            "mode": "normal",
            "desc": "9/12: Pilih Periode/1%",
            "x": 65.38461538461539,
            "y": 33.36344657533303,
            "w": 34.61538461538461,
            "h": 15.566531348669372
          },
          {
            "img": "10.jpg",
            "mode": "normal",
            "desc": "10/12: Klik Tombol Hijau",
            "x": 4.751131221719457,
            "y": 70.63602100315764,
            "w": 43.32579185520362,
            "h": 7.802254285074425
          },
          {
            "img": "11.jpg",
            "mode": "normal",
            "desc": "11/12: Klik Konfirmasi",
            "x": 51.92307692307693,
            "y": 56.337392873252144,
            "w": 41.289592760180994,
            "h": 9.607577807848445
          },
          {
            "img": "12.jpg",
            "mode": "normal",
            "desc": "12/12: Selesai (Klik Layar)",
            "x": 0,
            "y": 0,
            "w": 100,
            "h": 100
          }
        ];

        let currentStep = 0;
        // Status visibilitas area (default: muncul)
        let isHotspotVisible = true; 

        // Elements
        const frame = document.getElementById('phone-frame');
        const img = document.getElementById('screen-img');
        const hotspot = document.getElementById('hotspot');
        const statusText = document.getElementById('status-text');
        const toggleBtn = document.getElementById('btn-toggle-hint');

        // --- FUNGSI UTAMA ---

        function loadStep(index) {
            if(index >= steps.length) {
                if(confirm("Simulasi Selesai! Ulangi?")) { currentStep=0; loadStep(0); }
                else { currentStep = steps.length-1; }
                return;
            }

            const s = steps[index];
            img.src = s.img;
            statusText.innerText = s.desc;
            
            frame.scrollTop = 0;

            if(s.mode === 'scroll') {
                frame.classList.add('scroll-mode');
            } else {
                frame.classList.remove('scroll-mode');
            }

            // Terapkan posisi
            hotspot.style.left = s.x + '%';
            hotspot.style.top = s.y + '%';
            hotspot.style.width = s.w + '%';
            hotspot.style.height = s.h + '%';

            // Pastikan visibilitas sesuai status tombol toggle
            updateHotspotVisibility();
        }

        // Fungsi Baru: Toggle Area Berkedip
        function toggleHotspot() {
            isHotspotVisible = !isHotspotVisible; // Balik status
            updateHotspotVisibility();
        }

        // Update tampilan berdasarkan status
        function updateHotspotVisibility() {
            if (isHotspotVisible) {
                hotspot.style.display = 'block';
                toggleBtn.innerText = "üëÅÔ∏è Sembunyikan Area";
            } else {
                hotspot.style.display = 'none';
                toggleBtn.innerText = "üëÅÔ∏è Tampilkan Area";
            }
        }

        // Interaksi Klik (Hanya Jalan di Mode Play)
        hotspot.addEventListener('click', () => {
            // Efek klik visual sebentar
            hotspot.style.backgroundColor = "rgba(0,255,0,0.5)";
            hotspot.style.animation = "none"; // Hentikan kedip sebentar

            setTimeout(() => {
                hotspot.style.backgroundColor = "";
                hotspot.style.animation = "pulse 1.5s infinite"; // Kembalikan kedip
                currentStep++;
                loadStep(currentStep);
            }, 150);
        });

        // Jalankan Awal
        loadStep(0);

    </script>
</body>
</html>
